<!DOCTYPE HTML>

<html>
<head>

    <script type="text/javascript">
        var ws = new WebSocket("ws://localhost:8080/ws/get?auth=eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiI1ZmFmOTEwYmJhYzU0MzczZjUwNmVkYzEiLCJ0b2tlbi12ZXJzaW9uIjoiOGZkNDJkMDktZWU1ZC00ZDUzLWI0YTQtNmE0ZWZiZTMzZmFlIiwicm9sZXMiOlsiUk9MRV9VU0VSIl19.tAA3xyN8wVUqmG52rKup8ckSfhW4u5Fde6dTq1rYRCg");
        //users
        function sendMessage() {
            ws.send(JSON.stringify({
                "text": document.getElementById("textId").value + ": from users",
                "chatId": "5faf8f0bbac54373f506edc0"
            }));
            console.log("message sent")
        }

        function timeFunction() {
            setInterval(function () {
                sendMessage();
            }, 1000);
        }

        ws.onclose = function () {
            alert("Connection is closed...");
        };
        ws.onmessage = function (ev) {
            console.log(ev.data)
        }
    </script>

</head>

<body>
<div id="sse">
    <input type="button" onclick="sendMessage()">
    <input id="textId" type="text">
    <input type="button" onclick="timeFunction()" value="time">
</div>

</body>
</html>